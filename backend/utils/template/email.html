{{/* templates/email_template.html */}}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{.Subject}}</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    /* Keep styles simple and inline-friendly; key styles repeated inline for max-client support */
    body { margin:0; padding:0; background-color:#f4f6f8; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    .wrapper { width:100%; table-layout: fixed; background-color:#f4f6f8; padding: 24px 0; }
    .main { background:#ffffff; margin:0 auto; width:100%; max-width:600px; border-radius:8px; overflow:hidden; box-shadow:0 2px 6px rgba(0,0,0,0.08); }
    .header { padding:20px 28px; background: linear-gradient(90deg,#0f172a 0%, #0e7490 100%); color:#ffffff; }
    .title { font-size:18px; font-weight:600; margin:0 0 4px 0; }
    .subtitle { font-size:13px; opacity:0.9; margin:0; }
    .content { padding:24px 28px; color:#0f172a; line-height:1.5; font-size:15px; }
    .btn { display:inline-block; text-decoration:none; padding:12px 18px; border-radius:6px; font-weight:600; }
    .footer { padding:16px 28px; font-size:12px; color:#6b7280; background:#fbfdff; }
    .small { font-size:13px; color:#374151; }
    @media only screen and (max-width:420px) {
      .content { padding:16px; }
      .header, .footer { padding-left:16px; padding-right:16px; }
    }
  </style>
</head>
<body>
  <center class="wrapper" style="width:100%; background-color:#f4f6f8; padding:24px 0;">
    <table class="main" width="100%" cellpadding="0" cellspacing="0" role="presentation" style="max-width:600px; margin:0 auto;">
      <!-- Header -->
      <tr>
        <td class="header" style="padding:20px 28px; background:linear-gradient(90deg,#0f172a 0%, #0e7490 100%); color:#fff;">
          <h1 class="title" style="font-size:18px; margin:0; line-height:1.15;">{{.Subject}}</h1>
          <p class="subtitle" style="margin:4px 0 0 0; font-size:13px; opacity:0.9;">
            {% if .Name %}For {{.Name}}{{end}}
          </p>
        </td>
      </tr>

      <!-- Body -->
      <tr>
        <td class="content" style="padding:24px 28px; color:#0f172a; font-size:15px;">
          <p style="margin:0 0 12px 0;">
            {{- if .Name -}}
              Dear {{.Name}},
            {{- else -}}
              Hello,
            {{- end -}}
          </p>

          <p style="margin:0 0 12px 0;">
            {{.Body}}
          </p>

          {{/* Button: shown only when URL provided */}}
          {{- if .URL }}
            <p style="margin:18px 0;">
              <a href="{{.URL}}"
                 class="btn"
                 style="background:#0e7490; color:#ffffff; text-decoration:none; padding:12px 18px; border-radius:6px; display:inline-block; font-weight:600;"
                 target="_blank" rel="noopener noreferrer">
                {{- if .Button -}}{{.Button}}{{- else -}}Download dataset{{- end -}}
              </a>
            </p>

            <p style="margin:0 0 12px 0; font-size:13px; color:#374151;">
              If the button doesn't work, copy and paste this link into your browser:
              <br>
              <a href="{{.URL}}" style="color:#0e7490; word-break:break-all;" target="_blank" rel="noopener noreferrer">{{.URL}}</a>
            </p>
          {{- end }}

          <hr style="border:none; border-top:1px solid #eef2f7; margin:18px 0;">

          <p class="small" style="margin:0 0 12px 0; color:#374151;">
            Attached: dataset (if provided) â€” please treat the data as confidential when required.  
            If you need the dataset in another format or require additional documentation (data dictionary, sample rows, or schema), reply to this email and we will provide it.
          </p>

          <p style="margin:18px 0 0 0;">
            Best regards,<br>
            <strong>The Data Delivery Team</strong>
          </p>
        </td>
      </tr>

      <!-- Footer -->
      <tr>
        <td class="footer" style="padding:16px 28px; background:#fbfdff; color:#6b7280; font-size:12px;">
          <div style="margin-bottom:6px;">
            Sent to: <span style="color:#0f172a;">{{.To}}</span>
          </div>
          <div>
            Subject: <span style="color:#0f172a;">{{.Subject}}</span>
          </div>
        </td>
      </tr>
    </table>

    <!-- small legal / alt text block -->
    <table role="presentation" width="100%" style="max-width:600px; margin:12px auto 0 auto;">
      <tr>
        <td style="font-size:11px; color:#94a3b8; text-align:center;">
          If you weren't expecting this email, please notify the sender and delete the message.
        </td>
      </tr>
    </table>
  </center>
</body>
</html>
